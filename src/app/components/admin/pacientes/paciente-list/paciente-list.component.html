<!-- ============================================================
     Listado de registros (GET todos)
     ------------------------------------------------------------
     - Muestra los registros obtenidos desde el backend.
     - Incluye acciones: Crear, Editar, Eliminar, Ver.
     - Se aplican estilos Bootstrap para tabla y botones.
     - Compatible con Angular 17 + Vite.
     ============================================================ -->

<div class="container mt-4">

  <!-- TÃ­tulo -->
  <h2 class="mb-3 text-center">ğŸ§â€â™‚ï¸ GestiÃ³n de Pacientes</h2>


  <!-- Indicadores de carga / error -->
  <div *ngIf="loading" class="alert alert-info text-center">
    Cargando registros...
  </div>

  <div *ngIf="error" class="alert alert-danger text-center">
    {{ error }}
  </div>

  <!-- BotÃ³n de nuevo -->
  <div class="d-flex justify-content-end mb-3">
    <a routerLink="/pacientes/nuevo" class="btn btn-success">
      â• Nuevo
    </a>
  </div>

  <!-- Tabla -->
  <table *ngIf="!loading && !error && paciente.length > 0" class="table table-striped table-bordered table-hover shadow-sm">
    <thead class="table-light">
      <tr>
        <th scope="col"># ID</th>
        <th scope="col">RUT</th>
        <th scope="col">Nombre Completo</th>
         <th scope="col">Email</th>
         <th scope="col">TelÃ©fono</th>
        <th scope="col" class="text-center">Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let item of paciente; let i = index">
        <td class="align-middle text-center fw-semibold">{{ i + 1 }}</td>
        <td class="align-middle">
          {{ item.rut }}-{{ item.dv }}
        </td>
        <td class="align-middle">
          <a [routerLink]="['/pacientes/edit', item.id]" class="text-decoration-none fw-semibold">
             {{ item.paterno }} {{ item.materno }} {{ item.nombres }}
          </a>
        </td>
       
        <td class="align-middle">
          {{ item.email }}
        </td>
        <td class="align-middle">
          {{ item.telefono}}
        </td>

        <td class="align-middle text-center">
         
          <a [routerLink]="['/pacientes/editar', item.id]" class="btn btn-sm btn-outline-secondary me-1">
            âœï¸ Editar
          </a>
        
          <button (click)="eliminar(item.id)" class="btn btn-sm btn-outline-danger">
            ğŸ—‘ï¸ Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Mensaje si no hay libros -->
  <div *ngIf="!loading && !error && paciente.length === 0" class="alert alert-secondary text-center">
    No hay registros en la base de datos.
  </div>
</div>

